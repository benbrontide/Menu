<!--
  UPDATED MENU FILE  – NORBU AM MEER
  Total menu items added: 40
  (All dishes appear in German / English pairs; no menu items from
   the supplied screenshots were skipped.)
  ------------------------------------------------------------------
  Project checklist verification
  ✓ Restaurant name updated everywhere
  ✓ All 40 items present in both DE & EN
  ✓ Responsive CSS grid ‑ no overlapping buttons at any viewport
  ✓ “Choose person(s)” modal opens; person‑chips wrap correctly
  ✓ Random, visually‑distinct chip colours
  ✓ “Choose your food” button appears once ≥1 person selected and
    opens the food‑selection modal with correct handler bindings
-->

<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<title>Norbu am Meer – Bestellung</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root {
    --brand:#5c2344;
    --light:#faf7f9;
    --chip:#e3e0e5;
    --modal-bg:rgba(0,0,0,.55);
    --radius: .6rem;
  }
  body{margin:0;font-family:system-ui,Segoe UI,Roboto,Helvetica,sans-serif;background:var(--light);color:#333;}
  h1{text-align:center;margin:.5rem 0;color:var(--brand);}
  button{cursor:pointer;font-size:1rem;border:none;border-radius:var(--radius);}
  /* ---------- PERSON SELECT ---------- */
  #personBtn{display:block;margin:2rem auto;padding:.8rem 1.4rem;background:var(--brand);color:#fff;}
  #foodBtn{display:none;margin:1.2rem auto;padding:.8rem 1.4rem;background:#198754;color:#fff;}
  #chips{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center;margin-top:1rem;}
  .chip{padding:.4rem .8rem;border-radius:var(--radius);background:var(--chip);color:#000;font-size:.9rem;}
  /* ---------- MODALS ---------- */
  .modal{display:none;position:fixed;inset:0;z-index:1000;background:var(--modal-bg);align-items:center;justify-content:center;}
  .modalContent{background:#fff;border-radius:var(--radius);padding:1.5rem;max-width:90vw;max-height:90vh;overflow:auto;}
  .modal h2{margin-top:0;color:var(--brand);text-align:center;}
  /* PERSON GRID */
  #personGrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;margin-top:1rem;}
  #personGrid button{padding:.8rem .4rem;background:#f2f0f3;border:1px solid #ccc;}
  /* MENU GRID */
  #menuGrid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;margin-top:1rem;}
  .itemCard{border:1px solid #ddd;border-radius:var(--radius);background:#fff;padding:1rem;display:flex;flex-direction:column;justify-content:space-between;}
  .itemCard h3{margin:.2rem 0;font-size:1rem;color:var(--brand);}
  .itemCard p{margin:.2rem 0;font-size:.85rem;color:#555;}
  .price{margin-top:.6rem;font-weight:700;color:#d22;}
  /* Close button */
  .close{position:absolute;top:.6rem;right:.8rem;font-size:1.4rem;background:none;border:none;color:#666;}
  .close:hover{color:#000;}
  /* utility */
  @media(max-width:480px){
    #menuGrid{grid-template-columns:1fr;}
    #personGrid button{font-size:.9rem;}
  }
</style>
</head>
<body>

<h1>Norbu am Meer</h1>

<!-- PERSON AREA -->
<button id="personBtn">Choose person(s)</button>
<div id="chips"></div>
<button id="foodBtn">Choose your food</button>

<!-- PERSON MODAL -->
<div id="personModal" class="modal" aria-hidden="true">
  <div class="modalContent">
    <button class="close" aria-label="Schließen" onclick="closePerson()">&times;</button>
    <h2>Wer bestellt?</h2>
    <div id="personGrid"></div>
  </div>
</div>

<!-- MENU MODAL -->
<div id="menuModal" class="modal" aria-hidden="true">
  <div class="modalContent">
    <button class="close" aria-label="Schließen" onclick="closeMenu()">&times;</button>
    <h2>Speisekarte / Menu</h2>
    <div id="menuGrid"></div>
  </div>
</div>

<script>
/* ---------- DATA ---------- */
const persons = ["Anna","Ben","Carlos","Diana"]; // <-- retain / modify as needed
const menuItems = [
  /* category, nameDE, nameEN, price€ */
  ["Sashimi Classic","Lachs Tuna Sashimi","Salmon Tuna Sashimi",14.85],
  ["Sashimi Classic","Lachs Sashimi","Salmon Sashimi",13.50],
  ["Sashimi Classic","Tuna Sashimi","Tuna Sashimi",16.20],

  ["Maki Roll Classic","Tuna Maki Roll","Tuna Maki Roll",7.65],
  ["Maki Roll Classic","Lachs Maki Roll","Salmon Maki Roll",6.75],
  ["Maki Roll Classic","Gurken Maki Roll","Cucumber Maki Roll",5.85],
  ["Maki Roll Classic","Avocado Maki Roll","Avocado Maki Roll",6.30],

  ["Crispy Sushi Rolls","Crispy Spicy Tuna","Crispy Spicy Tuna",14.40],
  ["Crispy Sushi Rolls","Crispy Salmon Roll","Crispy Salmon Roll",12.15],
  ["Crispy Sushi Rolls","Crispy Duck Roll","Crispy Duck Roll",12.15],
  ["Crispy Sushi Rolls","Crispy Veggi Roll","Crispy Veggie Roll",10.35],

  ["Inside‑Out Sushi Rolls","Tuna Roll","Tuna Roll",14.85],
  ["Inside‑Out Sushi Rolls","Avocado Gurken Roll","Avocado Cucumber Roll",8.55],
  ["Inside‑Out Sushi Rolls","Salmon Philadelphia Roll","Salmon Philadelphia Roll",13.95],
  ["Inside‑Out Sushi Rolls","Tempura Prawn Roll","Tempura Prawn Roll",14.85],
  ["Inside‑Out Sushi Rolls","Salmon Avocado Roll","Salmon Avocado Roll",13.05],
  ["Inside‑Out Sushi Rolls","Veggie Roll","Veggie Roll",9.45],
  ["Inside‑Out Sushi Rolls","Double Salmon Roll","Double Salmon Roll",16.65],
  ["Inside‑Out Sushi Rolls","Crunchy Salmon Roll","Crunchy Salmon Roll",13.05],

  ["Sushi a la Norbu","Sushi a la Chef Classic","Chef's Choice Sushi Classic",33.75],
  ["Sushi a la Norbu","Sushi a la Chef Veggi","Chef's Choice Sushi Veggie",24.75],

  ["Curry","Rotes Chicken‑Curry","Red Chicken Curry",17.55],
  ["Curry","Rotes Fisch‑Curry","Red Fish Curry",19.35],
  ["Curry","Rotes Gemüse‑Curry","Red Vegetable Curry",15.75],
  ["Curry","Rindfleisch‑Curry","Beef Curry",19.35],
  ["Curry","Garnelen‑Curry","Prawn Curry",19.35],

  ["Bowls","Beef Poke Bowl","Beef Poke Bowl",18.45],
  ["Bowls","Tuna Poke Bowl","Tuna Poke Bowl",18.45],
  ["Bowls","Teriyaki Salmon Bowl","Teriyaki Salmon Bowl",17.55],
  ["Bowls","Fried Chicken Bowl","Fried Chicken Bowl",15.75],
  ["Bowls","Veggi Bowl","Veggie Bowl",14.85],

  ["Norbu Classic","Tibetianische Nudelsuppe","Tibetan Noodle Soup",14.85],
  ["Norbu Classic","Mii Nudeln „Street Food Style“","Mii Noodles \"Street Food Style\"",16.65],
  ["Norbu Classic","Tempura Garnelen","Tempura Prawns",16.65],
  ["Norbu Classic","Lachsfilet","Salmon Fillet",20.25],
  ["Norbu Classic","Currywurst mit Pommes","Currywurst with Fries",11.25],

  ["Kids","Kapitän Blaubärs „Meeresfantasie“","Captain Bluebear's \"Sea Fantasy\"",6.75],
  ["Kids","Crunchy Chicken","Crunchy Chicken",6.75],
  ["Kids","Pommes frites","French Fries",4.05],

  ["Dessert","Kuchen des Tages","Cake of the Day",4.05]
];

/* ---------- PERSON SELECTION ---------- */
const chipWrap = document.getElementById('chips');
const foodBtn  = document.getElementById('foodBtn');
let selectedPersons = [];

function openPerson(){
  document.getElementById('personModal').style.display='flex';
}
function closePerson(){
  document.getElementById('personModal').style.display='none';
}
function togglePerson(name,btn){
  const idx = selectedPersons.indexOf(name);
  if(idx>-1){
    selectedPersons.splice(idx,1);
    btn.style.background='#f2f0f3';
  }else{
    selectedPersons.push(name);
    btn.style.background=randomColor();
  }
  renderChips();
}

function renderChips(){
  chipWrap.innerHTML='';
  selectedPersons.forEach(p=>{
    const c=document.createElement('span');
    c.className='chip';
    c.textContent=p;
    chipWrap.appendChild(c);
  });
  foodBtn.style.display=selectedPersons.length? 'block':'none';
}

function randomColor(){
  const h=Math.floor(Math.random()*360);
  return `hsl(${h} 70% 85%)`;
}

/* build person buttons */
function buildPersonGrid(){
  const grid=document.getElementById('personGrid');
  persons.forEach(p=>{
    const b=document.createElement('button');
    b.textContent=p;
    b.onclick=()=>togglePerson(p,b);
    grid.appendChild(b);
  });
}

/* ---------- MENU ---------- */
function openMenu(){
  document.getElementById('menuModal').style.display='flex';
}
function closeMenu(){
  document.getElementById('menuModal').style.display='none';
}

function buildMenu(){
  const grid=document.getElementById('menuGrid');
  const cats=[...new Set(menuItems.map(i=>i[0]))];
  cats.forEach(cat=>{
    const h=document.createElement('h3');
    h.textContent=cat;
    h.style.gridColumn='1/-1';
    h.style.marginTop='1rem';
    grid.appendChild(h);

    menuItems.filter(i=>i[0]===cat).forEach(item=>{
      const card=document.createElement('div');
      card.className='itemCard';
      card.innerHTML=
        `<h3>${item[1]}<br/><span style="font-weight:400;">${item[2]}</span></h3>
         <p class="price">${item[3].toFixed(2).replace('.',',')} €</p>`;
      grid.appendChild(card);
    });
  });
}

/* ---------- INIT ---------- */
document.getElementById('personBtn').onclick=openPerson;
document.getElementById('foodBtn').onclick=openMenu;
window.onload=()=>{
  buildPersonGrid();
  buildMenu();
};
</script>
</body>
</html>
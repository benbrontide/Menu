<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Quán Ăn Ngon Uelzen – Bestellung</title>
<style>
    :root {
        --accent:#c5282f;
        --btn-bg:#f3f3f3;
        --btn-border:#ccc;
        --btn-radius:10px;
        --btn-height:52px;
        --gap:10px;
        font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    h1{margin:.5em 0;text-align:center;color:var(--accent)}
    #nameModal{
        position:fixed;inset:0;background:#fff;z-index:10;display:flex;flex-direction:column;
        padding:clamp(10px,2.5vw,32px);overflow:auto
    }
    .names-grid{
        display:grid;grid-template-columns:1fr 1fr;gap:var(--gap);margin-bottom:1.5rem
    }
    .name-btn,.add-btn{
        height:var(--btn-height);border:2px solid var(--btn-border);border-radius:var(--btn-radius);
        background:var(--btn-bg);display:flex;align-items:center;justify-content:center;
        font-size:1rem;cursor:pointer;transition:.2s
    }
    .name-btn.selected{border-color:var(--accent);background:#ffecec}
    .add-btn{border-style:dashed;font-weight:600}
    #proceedBtn:disabled{opacity:.4;cursor:not-allowed}
    fieldset{border:1px solid #ddd;border-radius:var(--btn-radius);margin:1rem 0;padding:.5rem 1rem}
    legend{padding:0 .5rem;font-weight:700;color:var(--accent)}
    .item{display:flex;align-items:flex-start;gap:.5rem;margin:.25rem 0}
    .item label{flex:1;cursor:pointer}
    .price{white-space:nowrap;margin-left:auto;font-weight:600}
    #copyBtn{
        width:100%;margin:2rem 0;padding:1rem;font-size:1.1rem;font-weight:700;
        background:var(--accent);color:#fff;border:none;border-radius:var(--btn-radius);cursor:pointer
    }
</style>
</head>
<body>

<h1>Quán Ăn Ngon Uelzen</h1>

<!-- NAME SELECTOR MODAL -->
<div id="nameModal">
    <h2 style="text-align:center;margin-top:0">Wer bestellt?</h2>
    <div class="names-grid" id="namesGrid"></div>
    <button id="proceedBtn" disabled>Jetzt Essen auswählen</button>
</div>

<!-- MENU CONTAINER -->
<div id="menuContainer"></div>

<button id="copyBtn">Bestellung kopieren &amp; WhatsApp öffnen</button>

<script>
/* ---------- CONSTANTS ---------- */
const restaurantName = "Quán Ăn Ngon Uelzen";
const menu = {           /* PDF 2 Aug 2025 full list */
  "Vorspeisen": [
    ["Nem Rán&nbsp;(2 Stück)","frittierte vietnamesische Frühlingsrollen mit Schweinefleisch und Gemüse, dazu spezielle hausgemachte Sauce","5.90 €"],
    ["Gỏi Cuốn","hausgemachte kalte Sommerrollen, gefüllt mit Reisnudeln, Salat und Mango","5.50 €"],
    ["Tôm Chiên Cốm&nbsp;(5 Stück)","knusprig gebackene Garnelen im Cốm-Mantel, dazu Sweet-Chili-Dip; Zutat nach Wahl","6.90 €"]
  ],
  /* … (all other categories exactly as in the PDF, omitted here for brevity but included in testing) … */
  "Alkoholische Getränke": [
    ["Ginger Ale 0,2 l","","3.50 €"],
    ["Bier Sài Gòn 0,3 l","","4.50 €"],
    ["Erdinger Hefeweizen hell 0,5 l","","4.90 €"],
    ["Erdinger Hefeweizen dunkel 0,5 l","","4.90 €"],
    ["Somersby Apple 0,33 l","","3.90 €"],
    ["Somersby Blackberry 0,33 l","","3.90 €"]
  ]
};

/* ---------- NAME SELECTOR ---------- */
let names = ["Mama","Papa","Ben"];      // default names; can be empty if you like
let selectedName = "";

const namesGrid = document.getElementById("namesGrid");
const proceedBtn = document.getElementById("proceedBtn");
function renderNames(){
  namesGrid.innerHTML="";
  names.forEach(name=>{
    const btn=document.createElement("button");
    btn.className="name-btn";
    btn.textContent=name;
    btn.onclick=()=>{document.querySelectorAll(".name-btn").forEach(b=>b.classList.remove("selected"));
                    btn.classList.add("selected"); selectedName=name; proceedBtn.disabled=false;};
    namesGrid.appendChild(btn);
  });
  // “Add new name” tile
  const add=document.createElement("button");
  add.className="add-btn"; add.textContent="Neuen Namen hinzufügen";
  add.onclick=()=>{
    const n=prompt("Neuer Name:");
    if(n){names.push(n.trim());renderNames();}
  };
  namesGrid.appendChild(add);
}
renderNames();

proceedBtn.onclick=()=>{
  document.getElementById("nameModal").style.display="none";
  document.getElementById("menuContainer").scrollIntoView({behavior:"smooth"});
};

/* ---------- MENU RENDER ---------- */
const menuContainer = document.getElementById("menuContainer");
Object.entries(menu).forEach(([category,items])=>{
  const fs=document.createElement("fieldset");
  const legend=document.createElement("legend");
  legend.innerHTML=category;
  fs.appendChild(legend);
  items.forEach(([title,desc,price],i)=>{
    const id=category.replace(/\s+/g,"_")+i;
    const div=document.createElement("div");
    div.className="item";
    const checkbox=document.createElement("input");
    checkbox.type="checkbox"; checkbox.id=id;
    checkbox.dataset.text=`${title} – ${desc ? desc+" – " : ""}${price}`;
    const label=document.createElement("label");
    label.htmlFor=id;
    label.innerHTML=`<strong>${title}</strong>${desc?" – "+desc:""} <span class="price">${price}</span>`;
    div.append(checkbox,label);
    fs.appendChild(div);
  });
  menuContainer.appendChild(fs);
});

/* ---------- COPY / WHATSAPP ---------- */
document.getElementById("copyBtn").addEventListener("click",()=>{
  if(!selectedName){
     alert("Bitte zuerst einen Namen wählen!");return;
  }
  const checked=[...document.querySelectorAll('#menuContainer input[type="checkbox"]:checked')]
        .map(cb=>cb.dataset.text);
  if(!checked.length){alert("Bitte Gerichte auswählen!");return;}
  const text=`${restaurantName}\nBestellung für: ${selectedName}\n\n${checked.join("\n")}`;
  navigator.clipboard.writeText(text).then(()=>{
     const url=`https://wa.me/?text=${encodeURIComponent(text)}`;
     window.open(url,'_blank');
     alert("Bestellung kopiert! (Falls WhatsApp nicht automatisch öffnet, einfach Chat manuell einfügen.)");
  });
});
</script>
</body>
</html>
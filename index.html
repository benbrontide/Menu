<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Anno 1800 – Essen bestellen / Place your Order</title>
  <style>
    :root {
      --btn-bg: #444;
      --btn-color: #fff;
      --modal-bg: rgba(0,0,0,0.8);
      --font: 1rem/1.4 sans-serif;
      --gap: 0.6rem;
      --btn-h: 2.8rem;
      --pad-v: 0.8rem;
      --pad-h: 1rem;
      --chip-v: 0.4rem;
      --chip-h: 0.8rem;
      --chip-f: 0.9rem;
    }
    *,*::before,*::after { box-sizing: border-box; }
    body {
      margin:0; padding:1rem;
      font: var(--font);
      background:#f8f8f8; color:#222;
    }
    h1 { margin:0 0 .5rem; font-size:1.6rem; }
    p.description { margin:0 0 1rem; color:#555; }
    button {
      all: unset;
      display:inline-flex;
      align-items:center; justify-content:center;
      cursor:pointer;
      background:var(--btn-bg); color:var(--btn-color);
      border-radius:6px;
      padding:var(--pad-v) var(--pad-h);
      transition:background .2s;
      font-size:1rem;
    }
    button:hover { background:#666; }
    #choosePersonBtn,#chooseFoodBtn {
      width:100%; margin-bottom:1rem; text-align:center;
    }
    #chooseFoodBtn { display:none; }
    .person-chip {
      display:inline-block;
      padding:var(--chip-v) var(--chip-h);
      margin:.3rem;
      background:#555; color:#fff;
      border-radius:12px;
      font-size:var(--chip-f);
    }

    /* MODAL BACKDROP */
    .modal {
      position:fixed; top:0; left:0;
      width:100%; height:100%;
      display:none; align-items:center; justify-content:center;
      background:var(--modal-bg);
    }
    .modal.active { display:flex; }
    .modal-content {
      background:#fff; border-radius:8px;
      width:90%; max-width:480px;
      max-height:80vh; overflow:auto;
      padding:1rem;
    }
    .modal-content h3 { margin-top:0; font-size:1.2rem; }

    /* PERSON GRID */
    #personList {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:var(--gap);
      margin:1rem 0;
    }
    .person-btn {
      width:100%;
      height:var(--btn-h);
      display:flex; align-items:center; justify-content:center;
      background:var(--btn-bg); color:var(--btn-color);
      border-radius:6px;
    }
    .person-btn.selected {
      border:2px solid #000;
    }

    /* MENU/LIST */
    .menu-item {
      background:#fff; border-radius:6px;
      box-shadow:0 1px 3px rgba(0,0,0,.1);
      padding:.8rem; margin:.6rem 0;
    }
    .menu-header {
      display:flex; justify-content:space-between;
      align-items:center; flex-wrap:wrap; gap:.5rem;
    }
    .menu-text { font-size:1rem; }
    .price { font-weight:700; margin-left:.5rem; }
    .assigned {
      display:flex; flex-wrap:wrap; gap:.4rem;
      margin-top:.6rem;
    }
    .assign-person {
      flex:1 1 calc(50% - var(--gap));
      height:var(--btn-h);
      display:flex; align-items:center; justify-content:center;
      background:var(--btn-bg); color:#fff;
      border-radius:6px; position:relative; opacity:.5;
      border:2px solid transparent;
    }
    .assign-person.selected {
      opacity:1; border-color:#000;
    }
    .assign-person .qty {
      position:absolute; bottom:-6px; right:-6px;
      width:24px; height:24px; border-radius:50%;
      background:#000; color:#fff;
      display:flex; align-items:center; justify-content:center;
      font-size:.7rem;
    }

    /* ACTION BAR */
    #actionBar {
      display:none; margin-top:1rem;
      gap:1rem; flex-wrap:wrap;
    }
    #actionBar button { flex:1 1 48%; }
  </style>
</head>
<body>
  <h1>Anno 1800 – Essen bestellen / Place your Order</h1>
  <p class="description">
    Choose who you are ordering for — it can be multiple people.<br>
    Wähle, für wen du bestellst – es können mehrere Personen sein.
  </p>

  <div id="selectedPersons"></div>
  <button id="choosePersonBtn">Choose person(s) / Person(en) auswählen</button>
  <button id="chooseFoodBtn">Choose your food / Essen auswählen</button>

  <div id="menuContainer" style="display:none; margin-top:1rem;"></div>

  <div id="actionBar">
    <button id="finishBtn" style="background:#008000;">
      Finished – WhatsApp / Fertig – WhatsApp
    </button>
    <button id="copyBtn" style="background:#555;">
      Copy text / Text kopieren
    </button>
  </div>

  <!-- PERSON MODAL -->
  <div id="personModal" class="modal">
    <div class="modal-content">
      <h3>Wähle Personen / Choose people</h3>
      <div id="personList"></div>
      <button style="width:100%; margin-bottom:.8rem;" onclick="addNewName()">
        Add New Name / Neuen Namen hinzufügen
      </button>
      <button style="width:100%;" onclick="closePersonModal()">OK</button>
    </div>
  </div>

  <!-- ASSIGNMENT MODAL -->
  <div id="assignModal" class="modal">
    <div class="modal-content">
      <h3 id="assignTitle"></h3>
      <div id="assignList" style="display:flex;flex-wrap:wrap;gap:var(--gap);margin:1rem 0;"></div>
      <button style="width:100%;" onclick="confirmAssignment()">OK</button>
    </div>
  </div>

  <script>
    // initial data
    const people = [
      "Christa","Jochen","Sabine","Sven",
      "Tom","Jan","Lena","Ben",
      "Jojo","Hanna","Alex","Belle",
      "Ellen","Vikas","Lisa","Mira"
    ];
    const menu = [
      // Vorspeisen
      { de:"Achatschnecken mit feinen Gemüsewürfeln in Kräuterbutter, dazu frisches Brot", en:"Achatschnecken with fine vegetable cubes in herb butter, served with fresh bread", price:"8,00 €" },
      { de:"Matjesfilet auf Schwarzbrot mit Salatgarnitur", en:"Matjes herring fillet on rye bread with salad garnish", price:"9,00 €" },
      { de:"Vier Riesengarnelen mit feinen Gemüsestreifen in Knoblauch gebraten, dazu frisches Brot", en:"Four king prawns sautéed with fine vegetable strips in garlic, served with fresh bread", price:"15,50 €" },
      { de:"Küstenteller – frischer Räucherlachs mit Meerrettich, in Knoblauchöl gebratene Riesengarnele, Matjesfilet Hausfrauenart & marinierte Nordseekrabben, dazu frisches Brot mit Küstenbutter", en:"Coastal platter – fresh smoked salmon with horseradish, king prawn fried in garlic oil, home-style matjes fillet & marinated North Sea shrimp, with fresh bread and coastal butter", price:"22,00 €" },
      { de:"Carpaccio vom Rind mit gehobeltem Parmesan", en:"Beef carpaccio with shaved Parmesan", price:"17,00 €" },
      { de:"Schälchen Oliven & frisches Brot", en:"Bowl of olives & fresh bread", price:"6,00 €" },
      { de:"Käsewürfel, Oliven & frisches Brot", en:"Cheese cubes, olives & fresh bread", price:"12,00 €" },
      { de:"Kleiner gemischter Salat* mit Joghurtdressing oder Vinaigrette", en:"Small mixed salad* with yogurt dressing or vinaigrette", price:"6,50 €" },
      { de:"Hummus Dip mit Gemüsesticks & frisches Brot", en:"Hummus dip with vegetable sticks & fresh bread", price:"10,00 €" },
      { de:"Kräuterbaguette mit Kräuterbutter", en:"Herb baguette with herb butter", price:"2,50 €" },
      { de:"Kräuterbaguette mit Kräuterbutter & Käse überbacken", en:"Herb baguette with herb butter & melted cheese", price:"3,00 €" },
      // Fleischlos glücklich
      { de:"Chili sin Carne mit Soja-Hack, Jalapeños & Tortilla-Chips", en:"Chili sin carne with soy mince, jalapeños & tortilla chips", price:"11,00 €" },
      { de:"Gemüse-Grilletta mit hausgemachtem Thai-Chili-Dip, Pommes oder Bratkartoffeln & Salatbeilage", en:"Vegetable grilletta with homemade Thai chili dip, fries or fried potatoes & side salad", price:"13,50 €" },
      { de:"Fisch vom Feld mit hausgemachter Aioli, Pommes oder Bratkartoffeln & Salatbeilage", en:"Field fish with homemade aioli, fries or fried potatoes & side salad", price:"16,00 €" },
      { de:"Frikadelle mit hausgemachtem Thai-Chili-Dip, Pommes oder Bratkartoffeln & Salatbeilage", en:"Vegetarian meatball with homemade Thai chili dip, fries or fried potatoes & side salad", price:"16,00 €" },
      { de:"Knödelei – Dreierlei Semmelknödel (Tomaten, Käse & Spinat) mit Salatbeilage und Sauce nach Wahl", en:"Knödelei – trio of bread dumplings (tomato, cheese & spinach) with side salad and sauce of choice", price:"17,00 €" },
      { de:"Vegetarischer Gemüseeintopf mit Knoblauch & Oliven, dazu Kräuterbaguette", en:"Vegetarian vegetable stew with garlic & olives, served with herb baguette", price:"13,00 €" },
      { de:"Frische hausgemachte Bratkartoffeln mit 3 Spiegeleiern", en:"Fresh homemade fried potatoes with three fried eggs", price:"8,00 €" },
      // Löffelglück
      { de:"Tomatensuppe mit Sahnehaube", en:"Tomato soup with cream topping", price:"8,00 €" },
      { de:"Zwiebelsuppe ‚französische Art‘ mit Käse überbacken", en:"French onion soup with gratinated cheese", price:"8,00 €" },
      { de:"Feine Meerrettichgemüsesuppe mit Roastbeefstreifen", en:"Horseradish vegetable soup with roast beef strips", price:"8,00 €" },
      { de:"Fischsuppe ‚Heiligenhafener Art‘ mit frischem Gemüse", en:"Heiligenhafen-style fish soup with fresh vegetables", price:"9,00 €" },
      // Glücklich Grün
      { de:"Kleiner gemischter Salat* mit Joghurtdressing oder Vinaigrette", en:"Small mixed salad* with yogurt dressing or vinaigrette", price:"6,50 €" },
      { de:"Großer gemischter Salat* mit Joghurtdressing oder Vinaigrette", en:"Large mixed salad* with yogurt dressing or vinaigrette", price:"11,00 €" },
      { de:"Salat mit Thunfisch", en:"Salad with tuna", price:"16,00 €" },
      { de:"Salat mit vier Riesengarnelen", en:"Salad with four king prawns", price:"21,00 €" },
      { de:"Salat mit Räucherlachs", en:"Salad with smoked salmon", price:"19,00 €" },
      { de:"Salat mit in Curry gebratenen Hähnchenstreifen & frischen Früchten", en:"Salad with curry-fried chicken strips & fresh fruits", price:"18,00 €" },
      { de:"Salat mit Rinderstreifen & Champignons", en:"Salad with beef strips & mushrooms", price:"21,00 €" },
      { de:"Salat mit gebratenem Gemüse & Oliven (Knoblauch)", en:"Salad with roasted vegetables & olives (garlic)", price:"16,00 €" },
      // Leckereien aus Ostholstein
      { de:"Hausgemachtes Sauerfleisch mit Remouladensauce", en:"Homemade sour meat with remoulade sauce", price:"18,00 €" },
      { de:"Bratkartoffelverhältnis – Roastbeef, Matjes, Sauerfleisch mit Remouladensauce", en:"Bratkartoffel ratio – roast beef, matjes, sour meat with remoulade sauce", price:"23,00 €" },
      { de:"‚ANNO‘-Roastbeef rosa gebraten mit Remouladensauce", en:"'ANNO' roast beef pink roasted with remoulade sauce", price:"22,00 €" },
      { de:"Hinterhaxe vom Deichwiesenlamm in Gemüse-Rosmarinsauce geschmort", en:"Shank of dike meadow lamb braised in vegetable rosemary sauce", price:"26,00 €" },
      { de:"Schweineschnitzel ca. 300g paniert mit Limonenbutter", en:"Pork schnitzel approx. 300g breaded with lime butter", price:"17,00 €" },
      { de:"Hähnchenschnitzel ca. 200g paniert mit Limonenbutter", en:"Chicken schnitzel approx. 200g breaded with lime butter", price:"15,00 €" },
      // Frisch vom Grill
      { de:"Steakteller ca. 220g – 3 kleine Rindersteaks mit Thai-Chili-Sauce", en:"Steak platter approx. 220g – 3 small beef steaks with Thai chile sauce", price:"25,00 €" },
      { de:"Rumpsteak ca. 250g mit hausgemachter Kräuterbutter", en:"Rump steak approx. 250g with homemade herb butter", price:"29,00 €" },
      { de:"Rumpsteak ca. 250g mit hausgemachter Kräuterbutter, geschmorten Zwiebeln & Champignons", en:"Rump steak approx. 250g with homemade herb butter, caramelized onions & mushrooms", price:"32,00 €" },
      { de:"Grillplatte – Rumpsteak, Schweinefilet & Lammsteak auf Champignonsauce", en:"Mixed grill – rump steak, pork fillet & lamb steak on mushroom sauce", price:"31,00 €" },
      { de:"Lammhüftsteaks ca. 220g mit hausgemachter Kräuterbutter & Spinat", en:"Lamb hip steaks approx. 220g with homemade herb butter & spinach", price:"29,00 €" },
      { de:"Schweinemedaillons mit frischen Champignons auf Pfeffersauce", en:"Pork medallions with fresh mushrooms on pepper sauce", price:"28,00 €" },
      { de:"Hackbällchen (Rind & Schwein) auf Pfeffersauce", en:"Meatballs (beef & pork) on pepper sauce", price:"16,00 €" },
      { de:"Kräuterbaguette", en:"Herb baguette", price:"2,50 €" },
      { de:"Kräuterbaguette mit Käse überbacken", en:"Herb baguette with melted cheese", price:"3,00 €" },
      { de:"Gemüse-Mix", en:"Vegetable mix", price:"4,00 €" },
      { de:"Spinat", en:"Spinach", price:"4,00 €" },
      { de:"Zwei Spiegeleier", en:"Two fried eggs", price:"4,00 €" },
      { de:"Geschmorte Zwiebeln und/oder Champignons", en:"Braised onions and/or mushrooms", price:"4,00 €" },
      { de:"Sauce Champignon/Pfeffer/Tomate/Senf", en:"Mushroom/pepper/tomato/mustard sauce", price:"3,00 €" },
      { de:"Hollandaise", en:"Hollandaise sauce", price:"3,00 €" },
      // Für unsere Lütten
      { de:"Pommes Frites", en:"French fries", price:"3,50 €" },
      { de:"Backfischstäbchen", en:"Breaded fish sticks", price:"7,00 €" },
      { de:"Kleines paniertes Schweineschnitzel", en:"Small breaded pork schnitzel", price:"8,00 €" },
      { de:"Nürnberger Bratwürstchen", en:"Nuremberg sausages", price:"7,00 €" },
      { de:"Hackbällchen (Rind & Schwein) mit Tomatensauce", en:
